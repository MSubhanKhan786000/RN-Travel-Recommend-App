const {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = process.env.EXPO_PUBLIC_GOOGLE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};

export const chatSession = model.startChat({
    generationConfig,
    // safetySettings: Adjust safety settings
    // See https://ai.google.dev/gemini-api/docs/safety-settings
    history: [
        {
            role: "user",
            parts: [
                { text: "Generate Travel Plan for Location: Babusar Top, for 6 Days and 5 Night for Family Trip with a Moderate Trip که with a Flight details, Flight Price with Booking url, Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and Places to visit nearby with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time t travel each of the location for 6 days and 5 night with each day plan with best time to visit in JSON\n" },
            ],
        },
        {
            role: "model",
            parts: [
                { text: "```json\n{\n  \"tripName\": \"Babusar Top Family Adventure\",\n  \"destination\": \"Babusar Top, Pakistan\",\n  \"duration\": \"6 Days / 5 Nights\",\n  \"travelStyle\": \"Moderate\",\n  \"flightDetails\": [\n    {\n      \"airline\": \"PIA\",\n      \"flightNumber\": \"PK-XXX\",\n      \"departureAirport\": \"Islamabad International Airport (ISB)\",\n      \"arrivalAirport\": \"Gilgit Airport (GIL)\",\n      \"departureDate\": \"2024-06-15\",\n      \"arrivalDate\": \"2024-06-15\",\n      \"price\": \"$200\",\n      \"bookingUrl\": \"https://www.pia.com.pk/\"\n    }\n  ],\n  \"hotels\": [\n    {\n      \"hotelName\": \"Serena Hotel Gilgit\",\n      \"hotelAddress\": \"Serena Road, Gilgit, Pakistan\",\n      \"price\": \"$100 - $150/night\",\n      \"hotelImageUrl\": \"https://www.serenahotels.com/images/hotels/gilgit/hero.jpg\",\n      \"geoCoordinates\": [35.9099, 74.3204],\n      \"rating\": 4.5,\n      \"description\": \"A luxurious hotel with stunning views of the Karakoram Mountains.\"\n    },\n    {\n      \"hotelName\": \"PC Hotel Gilgit\",\n      \"hotelAddress\": \"Jinnah Road, Gilgit, Pakistan\",\n      \"price\": \"$75 - $100/night\",\n      \"hotelImageUrl\": \"https://www.pc.com.pk/hotels/gilgit/images/hero.jpg\",\n      \"geoCoordinates\": [35.9103, 74.3195],\n      \"rating\": 4,\n      \"description\": \"A comfortable hotel with a central location in Gilgit.\"\n    },\n    {\n      \"hotelName\": \"The Hunza Inn\",\n      \"hotelAddress\": \"Karimabad, Hunza Valley, Pakistan\",\n      \"price\": \"$50 - $75/night\",\n      \"hotelImageUrl\": \"https://www.hunzainn.com/images/gallery/hunza-inn-exterior.jpg\",\n      \"geoCoordinates\": [36.2053, 74.3753],\n      \"rating\": 4.2,\n      \"description\": \"A charming inn with traditional architecture and beautiful views.\"\n    }\n  ],\n  \"placesToVisit\": [\n    {\n      \"placeName\": \"Babusar Top\",\n      \"placeDetails\": \"A high mountain pass in the Karakoram Range, offering breathtaking views of the surrounding peaks and glaciers.\",\n      \"placeImageUrl\": \"https://www.pakistan-tourism.com/wp-content/uploads/2021/10/Babusar-Top-Karakoram-Highway.jpg\",\n      \"geoCoordinates\": [35.0400, 74.1569],\n      \"ticketPricing\": \"Free\",\n      \"timeToTravel\": \"2-3 hours from Chilas\"\n    },\n    {\n      \"placeName\": \"Lulusar Lake\",\n      \"placeDetails\": \"A beautiful alpine lake located near Babusar Top, known for its crystal-clear waters.\",\n      \"placeImageUrl\": \"https://www.pakistan-tourism.com/wp-content/uploads/2021/10/Lulusar-Lake-Karakoram-Highway-Pakistan.jpg\",\n      \"geoCoordinates\": [35.0562, 74.1746],\n      \"ticketPricing\": \"Free\",\n      \"timeToTravel\": \"1 hour from Babusar Top\"\n    },\n    {\n      \"placeName\": \"Naran\",\n      \"placeDetails\": \"A picturesque valley town on the Karakoram Highway, known for its lush greenery and stunning mountain scenery.\",\n      \"placeImageUrl\": \"https://www.pakistan-tourism.com/wp-content/uploads/2020/04/Naran-Valley.jpg\",\n      \"geoCoordinates\": [34.9939, 73.8793],\n      \"ticketPricing\": \"Free\",\n      \"timeToTravel\": \"2-3 hours from Babusar Top\"\n    },\n    {\n      \"placeName\": \"Shangrila Resort\",\n      \"placeDetails\": \"A luxury resort in Naran, offering a variety of amenities, including a spa, swimming pool, and restaurant.\",\n      \"placeImageUrl\": \"https://www.shangrilaresort.com/images/gallery/shangrila-resort-naran-exterior.jpg\",\n      \"geoCoordinates\": [34.9898, 73.8795],\n      \"ticketPricing\": \"N/A\",\n      \"timeToTravel\": \"1 hour from Naran\"\n    },\n    {\n      \"placeName\": \"Gilgit\",\n      \"placeDetails\": \"The capital of Gilgit-Baltistan, known for its historical significance and beautiful scenery.\",\n      \"placeImageUrl\": \"https://www.pakistan-tourism.com/wp-content/uploads/2021/10/Gilgit-City.jpg\",\n      \"geoCoordinates\": [35.9099, 74.3204],\n      \"ticketPricing\": \"Free\",\n      \"timeToTravel\": \"6-7 hours from Naran\"\n    },\n    {\n      \"placeName\": \"Hunza Valley\",\n      \"placeDetails\": \"A breathtaking valley known for its stunning scenery, ancient villages, and friendly people.\",\n      \"placeImageUrl\": \"https://www.pakistan-tourism.com/wp-content/uploads/2021/10/Hunza-Valley-Pakistan.jpg\",\n      \"geoCoordinates\": [36.1985, 74.3747],\n      \"ticketPricing\": \"Free\",\n      \"timeToTravel\": \"3-4 hours from Gilgit\"\n    },\n    {\n      \"placeName\": \"Altit Fort\",\n      \"placeDetails\": \"A historic fort in Hunza Valley, offering stunning views of the surrounding mountains.\",\n      \"placeImageUrl\": \"https://www.pakistan-tourism.com/wp-content/uploads/2021/10/Altit-Fort-Hunza-Valley.jpg\",\n      \"geoCoordinates\": [36.2065, 74.3749],\n      \"ticketPricing\": \"Entry Fee: $5\",\n      \"timeToTravel\": \"1 hour from Karimabad\"\n    },\n    {\n      \"placeName\": \"Baltit Fort\",\n      \"placeDetails\": \"Another historic fort in Hunza Valley, known for its unique architecture and beautiful gardens.\",\n      \"placeImageUrl\": \"https://www.pakistan-tourism.com/wp-content/uploads/2021/10/Baltit-Fort-Hunza-Valley.jpg\",\n      \"geoCoordinates\": [36.2040, 74.3777],\n      \"ticketPricing\": \"Entry Fee: $5\",\n      \"timeToTravel\": \"1 hour from Karimabad\"\n    }\n  ],\n  \"dailyItinerary\": [\n    {\n      \"day\": 1,\n      \"title\": \"Arrival in Gilgit & Transfer to Naran\",\n      \"description\": \"Arrive at Gilgit Airport (GIL) and transfer to Naran. Check-in to your hotel and relax.\",\n      \"activities\": [\n        {\n          \"activity\": \"Flight to Gilgit\",\n          \"time\": \"Morning\"\n        },\n        {\n          \"activity\": \"Transfer to Naran\",\n          \"time\": \"Afternoon\"\n        },\n        {\n          \"activity\": \"Check-in to hotel\",\n          \"time\": \"Evening\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"title\": \"Exploring Naran\",\n      \"description\": \"Explore the picturesque town of Naran, visiting local markets, the scenic lake, and enjoying a delicious meal at a local restaurant.\",\n      \"activities\": [\n        {\n          \"activity\": \"Visit Naran Bazaar\",\n          \"time\": \"Morning\"\n        },\n        {\n          \"activity\": \"Enjoy boat ride at Lake Saiful Muluk\",\n          \"time\": \"Afternoon\"\n        },\n        {\n          \"activity\": \"Dinner at a local restaurant\",\n          \"time\": \"Evening\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"title\": \"Journey to Babusar Top & Lulusar Lake\",\n      \"description\": \"Embark on a scenic drive to Babusar Top, enjoying breathtaking views along the way. Visit Lulusar Lake and soak in the beauty of the surrounding mountains.\",\n      \"activities\": [\n        {\n          \"activity\": \"Drive to Babusar Top\",\n          \"time\": \"Morning\"\n        },\n        {\n          \"activity\": \"Visit Lulusar Lake\",\n          \"time\": \"Afternoon\"\n        },\n        {\n          \"activity\": \"Return to Naran\",\n          \"time\": \"Evening\"\n        }\n      ]\n    },\n    {\n      \"day\": 4,\n      \"title\": \"Relaxation & Local Experiences in Naran\",\n      \"description\": \"Enjoy a day of relaxation in Naran, perhaps indulging in a spa treatment or exploring local markets and crafts. Have a leisurely dinner at a traditional restaurant.\",\n      \"activities\": [\n        {\n          \"activity\": \"Spa Treatment (Optional)\",\n          \"time\": \"Morning\"\n        },\n        {\n          \"activity\": \"Shopping at local markets\",\n          \"time\": \"Afternoon\"\n        },\n        {\n          \"activity\": \"Traditional Pakistani Dinner\",\n          \"time\": \"Evening\"\n        }\n      ]\n    },\n    {\n      \"day\": 5,\n      \"title\": \"Scenic Drive to Gilgit & Exploring the City\",\n      \"description\": \"Enjoy a scenic drive to Gilgit, taking in the stunning landscapes along the Karakoram Highway. Upon arrival, check into your hotel and explore the city, visiting historical sites and enjoying a delicious meal at a local restaurant.\",\n      \"activities\": [\n        {\n          \"activity\": \"Drive to Gilgit\",\n          \"time\": \"Morning\"\n        },\n        {\n          \"activity\": \"Check-in to hotel in Gilgit\",\n          \"time\": \"Afternoon\"\n        },\n        {\n          \"activity\": \"Explore Gilgit city, visit Gilgit Fort & Naltar Valley (Optional)\",\n          \"time\": \"Evening\"\n        }\n      ]\n    },\n    {\n      \"day\": 6,\n      \"title\": \"Hunza Valley & Departure\",\n      \"description\": \"Embark on a scenic drive to the breathtaking Hunza Valley, visiting the historic forts of Altit and Baltit. Enjoy lunch at a local restaurant before heading back to Gilgit for your flight home.\",\n      \"activities\": [\n        {\n          \"activity\": \"Visit Hunza Valley, Altit Fort, and Baltit Fort\",\n          \"time\": \"Morning\"\n        },\n        {\n          \"activity\": \"Lunch at a local restaurant in Hunza\",\n          \"time\": \"Afternoon\"\n        },\n        {\n          \"activity\": \"Return to Gilgit & flight back home\",\n          \"time\": \"Evening\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Notes:**\n\n* **Flight details:** You'll need to search for specific flight options and prices using online travel booking websites. \n* **Hotels:** The prices provided are approximate and can vary based on season and availability. You can find more detailed information and book directly on the hotel websites.\n* **Places to visit:** This is just a sample list, and you can customize it based on your interests and time constraints.\n* **Time to travel:** The travel times provided are estimates and can vary depending on traffic and road conditions. \n* **Best time to visit:** The best time to visit Babusar Top and the surrounding areas is from **May to September**, when the weather is pleasant and the roads are open.\n\nRemember to check for the latest travel advisories and regulations before your trip. Happy travels! \n" },
            ],
        },
    ],
});

// const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
// console.log(result.response.text());
